(window.webpackJsonpfrontend=window.webpackJsonpfrontend||[]).push([[0],[,,,,,,,,function(e,t,a){"use strict";var n=a(0),s=a.n(n);a(58);t.a=function(e){var t=e.size;console.log(t);var a="sm"===t?"small":"";return s.a.createElement("div",{className:"loader-wrapper "+a},s.a.createElement("div",{className:"loader "+a}))}},function(e,t,a){"use strict";var n=a(0),s=a.n(n);t.a=s.a.createContext({tests:[{title:"hello"}]})},,,,,,,,,function(e,t,a){"use strict";a.d(t,"a",(function(){return r}));var n=a(14),s=a.n(n),r=function(){return{"x-auth-token":s.a.get("token")}}},,,,,,,,,,,,,function(e,t,a){},function(e,t,a){"use strict";a.d(t,"a",(function(){return m}));var n=a(3),s=a(4),r=a(6),c=a(5),o=a(7),l=a(0),i=a.n(l),m=(a(60),function(e){function t(){return Object(n.a)(this,t),Object(r.a)(this,Object(c.a)(t).apply(this,arguments))}return Object(o.a)(t,e),Object(s.a)(t,[{key:"render",value:function(){var e=this.props,t=e.points,a=e.maxPoints,n=t/a,s="";return s=n>=.85?"excellent":n>=.65?"good":n>=.4?"satisfactory":"bad",i.a.createElement("span",{className:"points-card ".concat(s)},t,i.a.createElement("span",{className:"divider"},"/"),a)}}]),t}(l.Component))},function(e,t,a){},,function(e,t,a){e.exports=a.p+"static/media/logo1.2ad03ba9.svg"},function(e,t,a){e.exports=a.p+"static/media/logo-light1.dc46d8b1.svg"},function(e,t,a){e.exports=a.p+"static/media/hero.de877d3a.svg"},,,function(e,t,a){e.exports=a.p+"static/media/logo.dc46d8b1.svg"},function(e,t,a){"use strict";a.r(t),a.d(t,"default",(function(){return g}));var n=a(1),s=a(3),r=a(4),c=a(6),o=a(5),l=a(7),i=a(0),m=a.n(i),u=a(19),p=a(42),h=a.n(p),d=a(8),f=a(18),E=a(9),v=m.a.lazy((function(){return a.e(3).then(a.bind(null,70))})),g=function(e){function t(){var e,a;Object(s.a)(this,t);for(var n=arguments.length,r=new Array(n),l=0;l<n;l++)r[l]=arguments[l];return(a=Object(c.a)(this,(e=Object(o.a)(t)).call.apply(e,[this].concat(r)))).state={tests:[],left:0,right:3,isMoreTests:!0,isRedirectToLogin:!1},a}return Object(l.a)(t,e),Object(r.a)(t,[{key:"loadMore",value:function(){var e=this,t=this.props.urlToFetch,a=this.state,s=a.left,r=a.right,c=a.tests;console.log(t),fetch(t,{method:"POST",headers:Object(n.a)({},Object(f.a)(),{"Content-Type":"application/json"}),body:JSON.stringify({isLimited:!0,left:s,right:r})}).then((function(e){return e.json()})).then((function(t){if(console.log(t),t.isTokenError)return e.context.logout(),e.setState(Object(n.a)({},e.state,{isRedirectToLogin:!0})),!0;t.tests.forEach((function(e){return c.push(e)})),e.setState(Object(n.a)({},e.state,{tests:c,left:s+3,right:r+3,isMoreTests:t.isMoreTests}),(function(){return console.log(e.state.tests)}))}))}},{key:"render",value:function(){var e=this.props,t=e.type,a=e.user,n=this.state,s=n.isLoading,r=n.tests,c=n.isRedirectToLogin,o=n.isMoreTests;if(c)return m.a.createElement(u.a,{to:"/app/login"});if(s||!r)return m.a.createElement(d.a,null);var l=[];return r.map((function(e,n){return l.push(m.a.createElement(i.Suspense,{key:n,fallback:m.a.createElement(d.a,{size:"sm"})},m.a.createElement(v,{key:"".concat(n,"-").concat(n),type:t,test:e,user:a||null})))})),m.a.createElement(h.a,{pageStart:"0",loadMore:this.loadMore.bind(this),hasMore:o,loader:m.a.createElement(d.a,null),useWindow:!1},m.a.createElement("div",{className:"tests-container"},0===l.length?m.a.createElement("h3",null,"Oops, no tests available yet!"):l))}}]),t}(i.Component);g.contextType=E.a},,function(e,t,a){e.exports=a(69)},,,,,,,function(e,t,a){},,,,,,,,function(e,t,a){},function(e,t,a){},function(e,t,a){},function(e,t,a){},,function(e,t,a){},function(e,t,a){},function(e,t,a){},function(e,t,a){},function(e,t,a){},function(e,t,a){},function(e,t,a){"use strict";a.r(t);var n=a(0),s=a.n(n),r=a(34),c=a.n(r),o=a(1),l=a(3),i=a(4),m=a(6),u=a(5),p=a(7),h=a(10),d=a(19),f=a(14),E=a.n(f),v=a(9),g=a(35),b=a.n(g),y=a(36),w=a.n(y),N=a(37),k=a.n(N),j=(a(50),function(e){function t(){return Object(l.a)(this,t),Object(m.a)(this,Object(u.a)(t).apply(this,arguments))}return Object(p.a)(t,e),Object(i.a)(t,[{key:"render",value:function(){return s.a.createElement("header",null,s.a.createElement("div",{className:"bg-circle-md bg-circle"}),s.a.createElement("div",{className:"bg-circle-dm bg-circle"}),s.a.createElement("div",{className:"nav"},s.a.createElement("div",{className:"nav-left"},s.a.createElement("img",{className:"light",src:b.a,alt:""}),s.a.createElement("img",{className:"dark",src:w.a,alt:""}),s.a.createElement("h1",null,"EasyTest"))),s.a.createElement("div",{className:"hero"},s.a.createElement("div",{className:"hero-left"},s.a.createElement("h1",null,"Get your experience in online testing to a whole new level!"),s.a.createElement(h.b,{className:"cta",to:"/app/"},"Try it out!")),s.a.createElement("div",{className:"hero-right"},s.a.createElement("img",{src:k.a,alt:""}))),s.a.createElement("div",{className:"copyright"},"\xa9 2020 Yegor Trussov"))}}]),t}(n.Component)),x=a(11),O=a(13),T=a(40),S=a.n(T),L=function(e){function t(){var e,a;Object(l.a)(this,t);for(var n=arguments.length,s=new Array(n),r=0;r<n;r++)s[r]=arguments[r];return(a=Object(m.a)(this,(e=Object(u.a)(t)).call.apply(e,[this].concat(s)))).state={isLoggedIn:!1},a}return Object(p.a)(t,e),Object(i.a)(t,[{key:"logout",value:function(){this.context.logout(),window.location.href="/app/login"}},{key:"render",value:function(){var e=E.a.get("token");console.log(e);var t=""!==e;return s.a.createElement("nav",null,s.a.createElement("div",{className:"nav-item nav-top"},s.a.createElement(h.b,{to:"/"},s.a.createElement("h2",{className:"logo"},s.a.createElement("img",{src:S.a,alt:""})," ",s.a.createElement("span",{className:"text"},"EasyTest")))),t&&s.a.createElement("div",{className:"nav-item nav-middle"},s.a.createElement(h.c,{exact:!0,className:"nav-link",to:"/app/"},s.a.createElement(x.a,{className:"icon",icon:O.d})," ",s.a.createElement("span",{className:"text"},"Home")),s.a.createElement(h.c,{className:"nav-link",to:"/app/allTests"},s.a.createElement(x.a,{className:"icon",icon:O.a}),s.a.createElement("span",{className:"text"}," Tests")),s.a.createElement(h.c,{className:"nav-link",to:"/app/createTest"},s.a.createElement(x.a,{className:"icon",icon:O.e})," ",s.a.createElement("span",{className:"text"},"Create Test"))),s.a.createElement("div",{className:"nav-item nav-bottom"},!t&&s.a.createElement(s.a.Fragment,null,s.a.createElement(h.c,{className:"nav-link",to:"/app/login"},s.a.createElement(x.a,{className:"icon",icon:O.f})," ",s.a.createElement("span",{className:"text"},"Login")),s.a.createElement(h.c,{className:"nav-link",to:"/app/register"},s.a.createElement(x.a,{className:"icon",icon:O.i})," ",s.a.createElement("span",{className:"text"},"Register"))),t&&s.a.createElement("button",{className:"nav-link",onClick:this.logout.bind(this)},s.a.createElement(x.a,{className:"icon",icon:O.g})," ",s.a.createElement("span",{className:"text"},"Logout"))))}}]),t}(n.Component);L.contextType=v.a;var C=L,I=a(8),A=a(18),q=(a(59),s.a.lazy((function(){return Promise.resolve().then(a.bind(null,41))}))),M=function(e){function t(){var e,a;Object(l.a)(this,t);for(var n=arguments.length,s=new Array(n),r=0;r<n;r++)s[r]=arguments[r];return(a=Object(m.a)(this,(e=Object(u.a)(t)).call.apply(e,[this].concat(s)))).state={user:null,passedTests:[],avgResult:null,isLoading:!0,nextLinkVal:null},a}return Object(p.a)(t,e),Object(i.a)(t,[{key:"componentDidMount",value:function(){var e=this;fetch("".concat(this.context.proxy,"/api/users/user"),{headers:Object(A.a)()}).then((function(e){return e.json()})).then((function(t){t.isTokenError&&(e.context.logout(),window.location.href="/app/login"),console.log(t.passedTests),t.passedTests.reverse();var a=0;t.passedTests.forEach((function(e){a+=e.points/e.maxPoints,console.log(a)})),a/=t.passedTests.length,a=Math.floor(100*a),e.setState({user:t,avgResult:a,isLoading:!1})}))}},{key:"render",value:function(){var e=this.state,t=e.user,a=e.isLoading,r=e.avgResult;if(console.log(t),a||!t)return s.a.createElement(I.a,null);var c="".concat(this.context.proxy,"/api/tests/passedTests/").concat(t._id);return s.a.createElement(s.a.Fragment,null,s.a.createElement("h1",{className:"heading"},"Hello, ",t.name,"!"),s.a.createElement("div",{className:"profile-block"},s.a.createElement("div",{className:"profile-img"},s.a.createElement("img",{src:"/img/profile-img.svg",alt:""})),s.a.createElement("div",{className:"profile-info"},s.a.createElement("div",{className:"profile-info__block"},s.a.createElement("span",{className:"info-text"},"Name: ",t.name)),s.a.createElement("div",{className:"profile-info__block"},s.a.createElement("span",{className:"info-text"},"Tests passed: ",t.passedTests.length)),s.a.createElement("div",{className:"profile-info__block"},s.a.createElement("span",{className:"info-text"},"Average result: ",r,"%")))),t.passedTests.length>0?s.a.createElement("h2",null,"Your recent tests: "):s.a.createElement("h2",null,"You haven't passed any tests yet!"),s.a.createElement(n.Suspense,{fallback:s.a.createElement(I.a,null)},s.a.createElement(q,{type:"result",urlToFetch:c,user:t})))}}]),t}(n.Component);M.contextType=v.a;a(31);var P=s.a.lazy((function(){return Promise.resolve().then(a.bind(null,41))})),_=function(e){function t(){var e,a;Object(l.a)(this,t);for(var n=arguments.length,s=new Array(n),r=0;r<n;r++)s[r]=arguments[r];return(a=Object(m.a)(this,(e=Object(u.a)(t)).call.apply(e,[this].concat(s)))).state={isLoading:!1,tests:[],isRedirectToLogin:!1,left:0,right:3,isMoreTests:!0},a}return Object(p.a)(t,e),Object(i.a)(t,[{key:"render",value:function(){var e=this.state,t=e.isLoading,a=e.isRedirectToLogin,r="".concat(this.context.proxy,"/api/tests/allTests");return a?s.a.createElement(d.a,{to:"/app/login"}):t?s.a.createElement(I.a,null):s.a.createElement(s.a.Fragment,null,s.a.createElement("h1",{className:"heading"},"Recent tests: "),s.a.createElement(n.Suspense,{fallback:s.a.createElement(I.a,null)},s.a.createElement(P,{urlToFetch:r,type:"full"})))}}]),t}(n.Component);_.contextType=v.a;var F=a(32),R=(a(61),function(e){var t=e.name,a=e.onChange,n=e.type,r=e.isMini,c=function(e){console.log(e),a(e)},o=r?"mini":"";return s.a.createElement("div",{className:"input-group "+o},s.a.createElement("input",{autoComplete:r?"off":"on",className:o,type:n,name:t,onChange:function(e){return c(e)}}),s.a.createElement("label",{htmlFor:t}))}),D=a(23),U=function(e){e.link;var t=Object(d.g)();return s.a.createElement("div",{onClick:function(){return t.goBack()},className:"page-top"},s.a.createElement("a",{href:" "},s.a.createElement(x.a,{icon:O.b})," Back"))},B=function(e){function t(){var e,a;Object(l.a)(this,t);for(var n=arguments.length,s=new Array(n),r=0;r<n;r++)s[r]=arguments[r];return(a=Object(m.a)(this,(e=Object(u.a)(t)).call.apply(e,[this].concat(s)))).state={isLoading:!0,test:null,testResults:null,usernames:null,errors:[],isRedirectToLogin:!1,hasLiked:!1},a}return Object(p.a)(t,e),Object(i.a)(t,[{key:"componentDidMount",value:function(){var e=this,t=this.props.match.params.testId;fetch("".concat(this.context.proxy,"/api/tests/testInfo/").concat(t),{headers:Object(o.a)({},Object(A.a)())}).then((function(e){return e.json()})).then((function(t){if(t.isTokenError)e.context.logout(),e.setState(Object(o.a)({},e.state,{isRedirectToLogin:!0}));else{var a=!1;t.likes.find((function(t){return t===e.context.userId}))&&(a=!0),e.setState(Object(o.a)({},e.state,{isLoading:!1,test:t,hasLiked:a}))}})),fetch("".concat(this.context.proxy,"/api/tests/testResults/").concat(t)).then((function(e){return e.json()})).then((function(t){console.log(t),t.testResults.sort((function(e,t){return t.points-e.points})),e.setState({isLoading:!1,testResults:t.testResults,usernames:t.usernames})}))}},{key:"setAccessKey",value:function(e){this.setState(Object(o.a)({},this.state,{currentAccessKey:e.target.value}))}},{key:"goToTest",value:function(){var e=this,t=this.state,a=t.test,n=t.errors,s=t.testResults,r=a.maxAttempts,c=0;if(s.forEach((function(t){t.userId===e.context.userId&&c++})),console.log(c,r),r&&c>=r)n.attempts="You have not got any attempts left!",this.setState(Object(o.a)({},this.state,{errors:n}));else{var l=this.state.currentAccessKey,i=a.accessKey,m=a._id,u=a.isProtected;if(i!==l&&u){var p=this.state.errors;p.keyError="Incorrect access key!",this.setState(Object(o.a)({},this.state,{errors:p}))}else window.location.href="/app/passTest/".concat(m)}}},{key:"componentDidUpdate",value:function(){var e=document.querySelector("span.field");console.log(e),e&&null!==e&&e.addEventListener("keypress",(function(e){13===e.which&&e.preventDefault()}))}},{key:"setLike",value:function(){var e=this,t=this.state,a=t.test,n=t.hasLiked;fetch("".concat(this.context.proxy,"/api/tests/likeTest/").concat(a._id),{method:"POST",headers:Object(o.a)({},A.a,{"Content-Type":"application/json"}),body:JSON.stringify({isIncrease:!n,userId:this.context.userId})}).then((function(e){return e.json()})).then((function(t){var a=e.state.test;a.likes=t.likes,console.log(a.likes.length),e.setState(Object(o.a)({},e.state,{test:a,hasLiked:!n}),(function(){return console.log(e.state.hasLiked)}))}))}},{key:"render",value:function(){var e=this,t=this.state,a=t.isLoading,n=t.test,r=t.testResults,c=t.errors,o=t.isRedirectToLogin,l=t.hasLiked;if(o)return s.a.createElement(d.a,{to:"/app/login"});if(a||null===n)return s.a.createElement(I.a,null);var i=n.maxAttempts,m=n.timeLimit,u=0;r&&r.forEach((function(t){t.userId===e.context.userId&&u++}));var p=i-u;return s.a.createElement("div",null,s.a.createElement(U,null),s.a.createElement("h1",null,n.title),s.a.createElement("p",null,n.description),n.isProtected&&s.a.createElement(s.a.Fragment,null,s.a.createElement("br",null),s.a.createElement("label",{htmlFor:"title"},"To start the test, you need to type in the secret key!")," ",s.a.createElement("br",null),s.a.createElement(R,{type:"text",name:"secretKey",isMini:!0,onChange:function(t){return e.setAccessKey(t)}}),s.a.createElement("span",{className:"error-input"},c.keyError)),i&&s.a.createElement("div",{className:"attempts-block"},s.a.createElement("span",{className:"max-attemtts"},"Attempts left: ",p)),m&&s.a.createElement("div",{className:"attempts-block"},s.a.createElement("span",{className:"max-attemtts"},"Time limit: ",function(e){var t=Math.floor(e/3600),a=Math.floor((e-3600*t)/60),n=e-3600*t-60*a,s="";return t&&(s+=t.toString()+" hour".concat(1!==t?"s":""," ")),a&&(s+=a.toString()+" minute".concat(1!==a?"s":""," ")),n&&(s+=n.toString()+" second".concat(1!==n?"s":""," ")),s}(m))),s.a.createElement("br",null),s.a.createElement("span",{className:"error-input"},c.attempts),s.a.createElement("div",{className:"btn-block"},s.a.createElement("button",{onClick:function(){return e.goToTest()},className:"btn btn-cta"},"Pass test!"),s.a.createElement("button",{className:"btn like-btn",onClick:this.setLike.bind(this),icon:D.b},s.a.createElement(x.a,{className:"icon",icon:l?O.h:D.b}),s.a.createElement("span",null,n.likes.length))),s.a.createElement("div",{className:"results"},s.a.createElement("h3",null,"Results: "),s.a.createElement("table",null,s.a.createElement("col",{className:"username"}),s.a.createElement("col",{className:"points"}),s.a.createElement("tr",null,s.a.createElement("th",null,"User"),s.a.createElement("th",{className:"points"},"Points")),null===r?function(){return s.a.createElement(I.a,null)}:r.map((function(e){return s.a.createElement("tr",{className:"resultTr",key:e.userId+e.points},s.a.createElement("td",null,e.username),s.a.createElement("td",{className:"points"},s.a.createElement(F.a,{points:e.points,maxPoints:e.answers.length})))})))))}}]),t}(n.Component);B.contextType=v.a;var H=a(41),K=function(e){function t(){var e,a;Object(l.a)(this,t);for(var n=arguments.length,s=new Array(n),r=0;r<n;r++)s[r]=arguments[r];return(a=Object(m.a)(this,(e=Object(u.a)(t)).call.apply(e,[this].concat(s)))).state={createdTests:[],isLoading:!1},a}return Object(p.a)(t,e),Object(i.a)(t,[{key:"componentDidMount",value:function(){var e=this;this.context.userId||(window.location.href="/app/login"),fetch("".concat(this.context.proxy,"/api/tests/createdTests/").concat(this.context.userId),{method:"POST"}).then((function(e){return e.json()})).then((function(t){console.log(t),e.setState({createdTests:t.tests,isLoading:!1})}))}},{key:"render",value:function(){var e=this.state,t=e.createdTests;if(e.isLoading)return s.a.createElement(I.a,null);var a="".concat(this.context.proxy,"/api/tests/createdTests/").concat(this.context.userId);return s.a.createElement(s.a.Fragment,null,s.a.createElement("h1",{className:"heading"},"Currently, you have ",t.length," created tests"),s.a.createElement(h.b,{to:"/app/createTestForm",className:"btn btn-cta"},"New test"),s.a.createElement(n.Suspense,{fallback:s.a.createElement(I.a,null)},s.a.createElement(H.default,{type:"created",urlToFetch:a,user:null})))}}]),t}(n.Component);K.contextType=v.a;a(63);var z=function(e){function t(){var e,a;Object(l.a)(this,t);for(var n=arguments.length,s=new Array(n),r=0;r<n;r++)s[r]=arguments[r];return(a=Object(m.a)(this,(e=Object(u.a)(t)).call.apply(e,[this].concat(s)))).state={isLoading:!0,test:null,answers:null},a}return Object(p.a)(t,e),Object(i.a)(t,[{key:"componentDidMount",value:function(){var e=this,t=this.props.match.params.userId,a=this.props.match.params.resultId;fetch("".concat(this.context.proxy,"/api/tests/testResult/").concat(t,"/").concat(a)).then((function(e){return e.json()})).then((function(t){console.log(t),e.setState({isLoading:!1,answers:t.answers,test:t.test})}))}},{key:"render",value:function(){var e=this.state,t=e.isLoading,a=e.test,n=e.answers;return a&&console.log(a.questions[0]),console.log(n),t?s.a.createElement(I.a,null):s.a.createElement("div",null,s.a.createElement(U,null),s.a.createElement("h1",{className:"heading"},'Test result for "',a.title,'"'),s.a.createElement("div",{className:"result-table"},s.a.createElement("table",null,s.a.createElement("col",{className:"main"}),n.map((function(e){return s.a.createElement("col",{className:"answer"})})),s.a.createElement("tr",{className:"first"},s.a.createElement("th",{className:"first main"},"Question No."),n.map((function(e,t){return s.a.createElement("th",{className:"first ans"},t+1)}))),s.a.createElement("tr",null,s.a.createElement("th",{className:"main"},"Result: "),n.map((function(e,t){var n="";console.log(toString(e));var r=e.toString()===a.questions[t].correctAnswerId;return n=parseInt(e)===parseInt(a.questions[t].correctAnswerId)?"correct":"wrong",s.a.createElement("th",{className:"answerr ans ".concat(n)},r?s.a.createElement(x.a,{className:"icon",icon:D.a}):s.a.createElement(x.a,{className:"icon",icon:D.c}))}))))),n.map((function(e,t){var n=e.toString()===a.questions[t].correctAnswerId;console.log(a.questions);var r="";n||(r="wrong");var c=a.questions[t];return console.log(c.answers[parseInt(c.correctAnswerId)]),s.a.createElement("div",{className:"question-ans"},s.a.createElement("h3",null,t+1,". ",c.title),0===e?s.a.createElement("span",{className:"ans-text "+r},"Your answer: -"):s.a.createElement("span",{className:"ans-text "+r},"Your answer: ",e,") ",c.answers[e-1].text),s.a.createElement("span",{className:"ans-text"},"Correct answer: ",c.correctAnswerId,") ",c.answers[parseInt(c.correctAnswerId)-1].text))})))}}]),t}(n.Component);z.contextType=v.a;a(64);var Q=function(e){function t(){var e,a;Object(l.a)(this,t);for(var n=arguments.length,s=new Array(n),r=0;r<n;r++)s[r]=arguments[r];return(a=Object(m.a)(this,(e=Object(u.a)(t)).call.apply(e,[this].concat(s)))).state={questions:[{title:"",answers:[{text:"",answerId:"1"},{text:"",answerId:"2"}],correctAnswerId:"1"}],title:"",description:"",subject:"",isProtected:!1,accessKey:"",creator:a.context.userId,timeErrorMsg:"",isLoading:!1,errors:[],maxAttempts:null,isLimitedAttempts:!1,isLimitedTime:!1,timeLimit:null},a}return Object(p.a)(t,e),Object(i.a)(t,[{key:"componentDidMount",value:function(){var e,t,a,n,s,r,c=this;e=document.getElementsByClassName("custom-select"),console.log(e);var l=[300,600,1200,1800,3600,5400],i=function(e){console.log("hhhh"),c.setState(Object(o.a)({},c.state,{timeLimit:l[e-1]}),(function(){return console.log(c.state)}))};for(t=0;t<e.length;t++){a=e[t].getElementsByTagName("select")[0],(n=document.createElement("DIV")).setAttribute("class","select-selected"),n.innerHTML=a.options[a.selectedIndex].innerHTML,e[t].appendChild(n),(s=document.createElement("DIV")).setAttribute("class","select-items select-hide");for(var m=function(e){(r=document.createElement("DIV")).innerHTML=a.options[e].innerHTML,console.log(a),r.addEventListener("click",(function(t){var a,n,s,r,c;for(r=this.parentNode.parentNode.getElementsByTagName("select")[0],c=this.parentNode.previousSibling,console.log(l[e-1]),n=0;n<r.length;n++)if(r.options[n].innerHTML===this.innerHTML){for(r.selectedIndex=n,c.innerHTML=this.innerHTML,a=this.parentNode.getElementsByClassName("same-as-selected"),s=0;s<a.length;s++)a[s].removeAttribute("class");this.setAttribute("class","same-as-selected");break}c.click(),i(e)})),s.appendChild(r)},u=1;u<a.length;u++)m(u);e[t].appendChild(s),n.addEventListener("click",(function(e){e.stopPropagation(),p(this),this.nextSibling.classList.toggle("select-hide"),this.classList.toggle("select-arrow-active")}))}function p(e){var t,a,n,s=[];for(t=document.getElementsByClassName("select-items"),a=document.getElementsByClassName("select-selected"),n=0;n<a.length;n++)e===a[n]?s.push(n):a[n].classList.remove("select-arrow-active");for(n=0;n<t.length;n++)s.indexOf(n)&&t[n].classList.add("select-hide")}document.addEventListener("click",p)}},{key:"handleAddAnswer",value:function(e){var t=this.state.questions,a=t[e].answers.length;console.log(a.toString()),6!==t[e].answers.length&&(t[e].answers.push({text:"",answerId:(a+1).toString()}),console.log(t[e].answers),this.setState(Object(o.a)({},this.state,{questions:t})))}},{key:"handleAddQuestion",value:function(){var e=this.state.questions;20!==e.length&&(e.push({title:"",answers:[{text:"",answerId:"1"},{text:"",answerId:"2"}],correctAnswerId:"1"}),this.setState(Object(o.a)({},this.state,{questions:e})))}},{key:"setQuestionTitle",value:function(e,t){var a=this.state.questions;a[t].title=e.target.value,this.setState(Object(o.a)({},this.state,{questions:a}))}},{key:"setAnswerText",value:function(e,t,a){console.log(e.target.value);var n=this.state.questions;console.log(n[t].answers,a),n[t].answers[a].text=e.target.value,this.setState(Object(o.a)({},this.state,{questions:n}))}},{key:"setTestTitle",value:function(e){this.setState(Object(o.a)({},this.state,{title:e.target.value}))}},{key:"setTestDescription",value:function(e){this.setState(Object(o.a)({},this.state,{description:e.target.value}))}},{key:"setTestSubject",value:function(e){var t=this;this.setState(Object(o.a)({},this.state,{subject:e.target.value}),(function(){return console.log(t.state.subject)}))}},{key:"setProtectedState",value:function(e){this.setState(Object(o.a)({},this.state,{isProtected:!this.state.isProtected,accessKey:""}))}},{key:"setAttemptsState",value:function(e){this.setState(Object(o.a)({},this.state,{isLimitedAttempts:!this.state.isLimitedAttempts,maxAttempts:1}))}},{key:"setTimeLimitState",value:function(e){this.setState(Object(o.a)({},this.state,{isLimitedTime:!this.state.isLimitedTime,timeLimit:null}))}},{key:"setAccessKey",value:function(e){this.setState(Object(o.a)({},this.state,{accessKey:e.target.value}))}},{key:"setAttemptsNumber",value:function(e){this.setState(Object(o.a)({},this.state,{maxAttempts:parseInt(e.target.value)})),console.log(this.state)}},{key:"changeAttemptsNumber",value:function(e){var t=this.state.maxAttempts;t=e>0?Math.min(t+e,10):Math.max(t+e,1),this.setState(Object(o.a)({},this.state,{maxAttempts:t}))}},{key:"setCorrectAnswerId",value:function(e,t){var a=this.state.questions;a[e].correctAnswerId=t,console.log(t),this.setState(Object(o.a)({},this.state,{questions:a}))}},{key:"handleAddTest",value:function(){var e=this;this.setState(Object(o.a)({},this.state,{isLoading:!0}));var t=this.state;console.log(this.state);var a=[];if(t.title||(a.title="The test must have a title"),t.subject||(a.subject="The test must have a subject"),t.questions.map((function(e){return e.title||(a.questions="Questions must not be empty"),e.answers.map((function(e){return e.text||(a.answers="Answers must not be empty"),!0})),!0})),a.title||a.subject||a.questions||a.answers)this.setState(Object(o.a)({},this.state,{errors:a}));else{var n=!1;t.title.length>=30&&(a.title="Title must not be longer than 30 syllables",n=!0),t.subject.length>=18&&(a.title="Title subject not be longer than 18 syllables",n=!0),t.description.length>=400&&(a.title="Title description not be longer than 400 syllables",n=!0),n?this.setState(Object(o.a)({},this.state,{errors:a})):(this.context.userId||(window.location.href="/app/login"),fetch("".concat(this.context.proxy,"/api/tests/createTest"),{method:"POST",headers:{"Content-Type":"application/json","x-auth-token":this.context.token},body:JSON.stringify(this.state)}).then((function(e){return e.json()})).then((function(t){console.log(t),t.success?window.location.href="/app/allTests":t.isTimeErr&&e.setState(Object(o.a)({},e.state,{timeErrorMsg:"You cannot create more than 1 test in 5 minutes!",isLoading:!1}))})))}}},{key:"deleteAnswer",value:function(e,t){var a=this.state.questions;if(!(a[e].answers.length<=2)){var n=parseInt(t);a[e].correctAnswerId.toString()===(t+1).toString()&&(a[e].correctAnswerId=0===t?"1":t.toString());for(var s=n;s<a[e].answers.length;s++)a[e].answers[s].answerId=(parseInt(a[e].answers[s].answerId)-1).toString(),s!==n&&(document.getElementById("_".concat(e,"-").concat(s-1)).value=a[e].answers[s].text);console.log(+a[e].correctAnswerId,a[e].answers.length),+a[e].correctAnswerId>=a[e].answers.length&&(a[e].correctAnswerId=(a[e].answers.length-1).toString()),console.log(a[e]),a[e].answers.splice(t,1),console.log(a[e].answers),this.setState(Object(o.a)({},this.state,{questions:a}))}}},{key:"deleteQuestion",value:function(e){var t=this.state.questions;1!==t.length&&(t.splice(e,1),this.setState(Object(o.a)({},this.state,{questions:t})))}},{key:"render",value:function(){var e=this,t=this.state,a=t.questions,n=t.isProtected,r=t.timeErrorMsg,c=t.isLoading,o=t.errors,l=t.isLimitedAttempts,i=t.isLimitedTime,m=t.maxAttempts,u=["A","B","C","D","E","F"];return s.a.createElement("div",null,s.a.createElement("h1",{className:"heading"},"Create test"),s.a.createElement("div",{className:"test-basic-info"},s.a.createElement("div",{className:"info-group"},s.a.createElement("label",{htmlFor:"title"},"Test name: "),s.a.createElement(R,{type:"text",onChange:function(t){return e.setTestTitle(t)},isMini:!0,name:"title"}),s.a.createElement("span",{className:"error-input"},o.title)),s.a.createElement("div",{className:"info-group"},s.a.createElement("label",{htmlFor:"subject"},"Subject: "),s.a.createElement(R,{type:"text",onChange:function(t){return e.setTestSubject(t)},isMini:!0,name:"title"}),s.a.createElement("span",{className:"error-input"},o.subject)),s.a.createElement("div",{className:"info-group"},s.a.createElement("label",{htmlFor:"description"},"Description: "),s.a.createElement("textarea",{className:"",onChange:function(t){return e.setTestDescription(t)},name:"description",id:"",cols:"30",rows:"10"})),s.a.createElement("div",{className:"info-group-checkbox"},s.a.createElement("div",{className:"pretty p-icon p-smooth p-thick p-curve"},s.a.createElement("input",{type:"checkbox",onChange:this.setProtectedState.bind(this)}),s.a.createElement("div",{className:"state p-success"},s.a.createElement("i",{className:"icon"},s.a.createElement(x.a,{className:"check-icon",icon:O.c})),s.a.createElement("label",null,"Protected")))),n&&s.a.createElement("div",{className:"info-group"},s.a.createElement("label",{htmlFor:"key"},"Secret key: "),s.a.createElement(R,{onChange:function(t){return e.setAccessKey(t)},isMini:!0,name:"accessKey",type:"text"})),s.a.createElement("div",{className:"info-group-checkbox"},s.a.createElement("div",{className:"pretty p-icon p-smooth p-thick p-curve"},s.a.createElement("input",{type:"checkbox",onChange:this.setAttemptsState.bind(this)}),s.a.createElement("div",{className:"state p-success"},s.a.createElement("i",{className:"icon"},s.a.createElement(x.a,{className:"check-icon",icon:O.c})),s.a.createElement("label",null,"Limited attempts")))),l&&s.a.createElement("div",{className:"info-group"},s.a.createElement("label",{htmlFor:"key"},"Maximum attempts: "),s.a.createElement("div",{className:"btn-group"},s.a.createElement("button",{className:"increment-btn",onClick:function(){return e.changeAttemptsNumber(-1)}}," ",s.a.createElement("span",null,"-")," "),s.a.createElement("span",{className:"attempts-num"},m),s.a.createElement("button",{className:"increment-btn",onClick:function(){return e.changeAttemptsNumber(1)}}," ",s.a.createElement("span",null,"+")," "))),s.a.createElement("div",{className:"info-group-checkbox"},s.a.createElement("div",{className:"pretty p-icon p-smooth p-thick p-curve"},s.a.createElement("input",{type:"checkbox",onChange:this.setTimeLimitState.bind(this)}),s.a.createElement("div",{className:"state p-success"},s.a.createElement("i",{className:"icon"},s.a.createElement(x.a,{className:"check-icon",icon:O.c})),s.a.createElement("label",null,"Limited time")))),i?s.a.createElement("div",{className:"custom-select",style:{width:"300px"}},s.a.createElement("select",null,s.a.createElement("option",{value:"0"},"Select time limit:"),s.a.createElement("option",{value:"1"},"5 minutes"),s.a.createElement("option",{value:"2"},"10 minutes"),s.a.createElement("option",{value:"3"},"20 minuted"),s.a.createElement("option",{value:"4"},"30 minutes"),s.a.createElement("option",{value:"5"},"1 hour"),s.a.createElement("option",{value:"6"},"1.5 hours"))):s.a.createElement("div",{className:"custom-select",style:{width:"300px",visibility:"hidden"}},s.a.createElement("select",null,s.a.createElement("option",{value:"0"},"Select time limit:"),s.a.createElement("option",{value:"1"},"5 minutes"),s.a.createElement("option",{value:"2"},"10 minutes"),s.a.createElement("option",{value:"3"},"20 minuted"),s.a.createElement("option",{value:"4"},"30 minutes"),s.a.createElement("option",{value:"5"},"1 hour"),s.a.createElement("option",{value:"6"},"1.5 hours")))),s.a.createElement("div",{className:"questions"},a.map((function(t,a){return s.a.createElement("div",{key:a,className:"question-container"},s.a.createElement("h3",{className:"question-container__title"},s.a.createElement("div",{className:"delete-question-btn"},s.a.createElement("span",null,"\xd7")),s.a.createElement("span",null,a+1,"."),"  ",s.a.createElement(R,{type:"text",isMini:!0,onChange:function(t){return e.setQuestionTitle(t,a)},name:"questionTitle"})),s.a.createElement("div",{className:"question-container__answers"},t.answers.map((function(n,r){var c="";return console.log(t.correctAnswerId.toString()===(r+1).toString()),t.correctAnswerId.toString()===(r+1).toString()&&(c="selected"),console.log(c),s.a.createElement("div",{key:"".concat(r,"-").concat(a),className:"answer-block "+c},s.a.createElement("div",{className:"answer-block__letter",onClick:function(){return e.setCorrectAnswerId(a,n.answerId)}},s.a.createElement("span",null,u[r])),s.a.createElement("div",{className:"answer-block__text"},s.a.createElement("input",{autoComplete:"off",id:"_".concat(a,"-").concat(r),type:"text",onChange:function(t){return e.setAnswerText(t,a,r)}}),s.a.createElement("button",{className:"btn-delete",onClick:function(){return e.deleteAnswer(a,r)}},s.a.createElement("span",null,"\xd7"))))})),s.a.createElement("button",{onClick:e.handleAddAnswer.bind(e,a),className:"add-question"},s.a.createElement("span",null,"+"))))})),s.a.createElement("button",{onClick:this.handleAddQuestion.bind(this),className:"new-question btn-secondary"},"New question")),r&&s.a.createElement("span",{className:"error-msg"},r),o.questions&&s.a.createElement("span",{className:"error-msg"},o.questions),o.answers&&s.a.createElement("span",{className:"error-msg"},o.answers),s.a.createElement("button",{onClick:this.handleAddTest.bind(this),className:"btn btn-cta"},"Create test!"),c&&s.a.createElement(I.a,{size:"sm"}))}}]),t}(n.Component);Q.contextType=v.a;a(65);var J=function(e){function t(){var e,a;Object(l.a)(this,t);for(var n=arguments.length,s=new Array(n),r=0;r<n;r++)s[r]=arguments[r];return(a=Object(m.a)(this,(e=Object(u.a)(t)).call.apply(e,[this].concat(s)))).state={isLoading:!0,test:[],answers:[],answeredQuestions:0,isSubmitted:!1,isTimeUp:!1,time:null},a}return Object(p.a)(t,e),Object(i.a)(t,[{key:"componentDidMount",value:function(){var e=this,t=this.props.match.params.testId;fetch("".concat(this.context.proxy,"/api/tests/testInfo/").concat(t),{headers:Object(o.a)({},Object(A.a)())}).then((function(e){return e.json()})).then((function(t){console.log(t);for(var a=[],n=0;n<t.questions.length;n++)a[n]=0;if(e.setState({isLoading:!1,answers:a,test:t}),t.timeLimit){var s=t.timeLimit;setInterval((function(){s=Math.max(s-1,0);var t=e.state.isTimeUp;!t&&s<=0&&(t=!0,document.querySelectorAll("input[type='radio']").forEach((function(e){e.setAttribute("onChange","return false"),e.setAttribute("onClick","return false")})));e.setState(Object(o.a)({},e.state,{isTimeUp:t,time:s}))}),1e3)}}))}},{key:"handleSelect",value:function(e,t){var a=this,n=this.state,s=n.answers,r=n.answeredQuestions;n.isTimeUp||(s[e]||r++,s[e]=t,this.setState(Object(o.a)({},this.state,{answers:s,answeredQuestions:r}),(function(){return console.log(a.state)})))}},{key:"finishTest",value:function(e){e.preventDefault();var t=0,a=[],n=this.state,s=n.answers,r=n.test;if(!n.isSubmitted){this.setState(Object(o.a)({},this.state,{isSubmitted:!0})),console.log("finish!"),r.questions.map((function(e,n){return e.correctAnswerId===s[n]?(t++,a.push(!0)):a.push(!1),e}));var c={userId:this.context.userId,points:t,answers:a,title:r.title,maxPoints:r.questions.length,date:Date.now(),answersLetters:s};fetch("".concat(this.context.proxy,"/api/tests/saveResult/").concat(r._id),{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(c)}).then((function(){console.log("result saved!"),window.location.href="/app/testInfo/".concat(r._id)}))}}},{key:"render",value:function(){var e=this,t=this.state,a=t.isLoading,n=t.test,r=t.answeredQuestions,c=t.time,o=t.answers,l=n.questions,i=["A","B","C","D","E","F","G","H"];return a?s.a.createElement(I.a,null):s.a.createElement(s.a.Fragment,null,s.a.createElement("div",{className:"info-block"},s.a.createElement("div",null,n.timeLimit&&s.a.createElement("span",null,"Time left: ",new Date(1e3*c).toISOString().substr(11,8))),s.a.createElement("div",null,"Answered questions: ",r," / ",l.length)),s.a.createElement("form",{className:"test-form",onSubmit:function(t){return e.finishTest(t)}},s.a.createElement("h1",{className:"heading"},"Pass test '",n.title,"'"),s.a.createElement("div",{className:"test-questions"},l.map((function(t,a){return s.a.createElement("div",{className:"question-container"},s.a.createElement("h3",{class:"question-container__title"},a+1,".  ",t.title),s.a.createElement("div",{className:"question-container__answers"},t.answers.map((function(t,n){var r="";return o[a].toString()===(n+1).toString()&&(r="selected"),s.a.createElement("div",{className:"answer-block "+r,onClick:e.handleSelect.bind(e,a,t.answerId)},s.a.createElement("div",{className:"answer-block__letter"},s.a.createElement("span",null,i[n])),s.a.createElement("div",{className:"answer-block__text"},s.a.createElement("span",null,t.text)))}))))}))),s.a.createElement("input",{type:"submit",className:"btn btn-cta",value:"Finish"})))}}]),t}(n.Component);J.contextType=v.a;var W=a(22),Y=(a(33),function(e){var t=[];return e.forEach((function(e){"email"===e.name&&(/^(([^<>()[\]\\.,;:\s@"]+(\.[^<>()\]\\.,;:\s@"]+)*)|(".+"))@((\[[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\])|(([a-zA-Z\-0-9]+\.)+[a-zA-Z]{2,}))$/.test(e.value)||(t.email="Invalid email")),"password"===e.name&&e.value.length<6&&(t.password="Password must be at least 6 characters"),"fullName"===e.name&&e.value.trim().length<=5&&(t.fullName="Please enter a real full name")})),t}),V=function(e){function t(e){var a;return Object(l.a)(this,t),(a=Object(m.a)(this,Object(u.a)(t).call(this,e))).state={email:"",password:"",errors:[],isLongerExpiration:!1,isLoading:!1},a.formEl=s.a.createRef(),a}return Object(p.a)(t,e),Object(i.a)(t,[{key:"setCredential",value:function(e){var t=this;console.log(e.target),this.setState(Object(o.a)({},this.state,Object(W.a)({},e.target.name,e.target.value)),(function(){return console.log(t.state)}))}},{key:"setLoading",value:function(e){var t=this;this.setState({isLoading:e},(function(){return console.log(t.state)}))}},{key:"setExpirationState",value:function(){this.setState(Object(o.a)({},this.state,{isLongerExpiration:!this.state.isLongerExpiration}))}},{key:"handleSubmit",value:function(e){var t=this;e.preventDefault();var a=this.state,n=a.email,s=a.password,r=a.isLongerExpiration,c=Y([{name:"email",value:n},{name:"password",value:s}]);if(c.email||c.password)this.setState(Object(o.a)({},this.state,{errors:c,isLoading:!1}));else{c=[];var l={email:n,password:s,isLongerExpiration:r};fetch("".concat(this.context.proxy,"/api/users/login"),{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(l)}).then((function(e){return e.json()})).then((function(e){e.success?(t.context.setToken(e.token,e.user._id,e.user),window.location.href="/app/"):(e.doesUserExist?c.password="Incorrect password":c.email="User does not exist!",t.setState(Object(o.a)({},t.state,{errors:c,isLoading:!1})))}))}}},{key:"render",value:function(){var e=this,t=this.state,a=t.errors,n=t.isLoading;return console.log(n),s.a.createElement("div",null,s.a.createElement("h1",{className:"heading"},"Log in"),s.a.createElement("form",{id:"login-form",onSubmit:function(t){return e.handleSubmit(t)}},s.a.createElement("div",{className:"form-group"},s.a.createElement("label",{htmlFor:""},"Email: "),s.a.createElement(R,{name:"email",type:"text",onChange:function(t){return e.setCredential(t)}}),s.a.createElement("span",{className:"error-input"},a.email)),s.a.createElement("div",{className:"form-group"},s.a.createElement("label",{htmlFor:""},"Password"),s.a.createElement(R,{name:"password",type:"password",onChange:function(t){return e.setCredential(t)}}),s.a.createElement("span",{className:"error-input"},a.password)),s.a.createElement("div",{className:"checkbox-group pretty p-icon p-smooth p-thick p-curve"},s.a.createElement("input",{type:"checkbox",onChange:this.setExpirationState.bind(this)}),s.a.createElement("div",{className:"state p-success"},s.a.createElement("i",{className:"icon"},s.a.createElement(x.a,{className:"check-icon",icon:O.c})),s.a.createElement("label",null,"Remember for a day"))),s.a.createElement("input",{onClick:function(){return e.setLoading(!0)},type:"submit",className:"btn btn-cta",value:"Log in"}),n&&s.a.createElement(I.a,{size:"sm"})))}}]),t}(n.Component);V.contextType=v.a;var G=function(e){function t(){var e,a;Object(l.a)(this,t);for(var n=arguments.length,s=new Array(n),r=0;r<n;r++)s[r]=arguments[r];return(a=Object(m.a)(this,(e=Object(u.a)(t)).call.apply(e,[this].concat(s)))).state={email:"",password:"",confirmPassword:"",name:"",errors:[],isLoading:!1},a}return Object(p.a)(t,e),Object(i.a)(t,[{key:"setCredential",value:function(e){this.setState(Object(W.a)({},e.target.name,e.target.value))}},{key:"setLoading",value:function(e){var t=this;this.setState({isLoading:e},(function(){return console.log(t.state)}))}},{key:"registerUser",value:function(e){var t=this;e.preventDefault();var a=[{name:"email",value:this.state.email},{name:"password",value:this.state.password},{name:"fullName",value:this.state.name}],n=Y(a);if(this.state.password!==this.state.confirmPassword&&(n.confirmPassword="Passwords do not match"),n.email||n.password||n.fullName||n.confirmPassword)this.setState(Object(o.a)({},this.state,{errors:n,isLoading:!1}));else{var s={email:this.state.email,password:this.state.password,name:this.state.name};if(this.state.confirmPassword!==s.password)return;fetch("".concat(this.context.proxy,"/api/users/addUser"),{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(s)}).then((function(e){return e.json()})).then((function(e){console.log(e),e.notSuccess?((n=[]).email="User with such email already exists",t.setState(Object(o.a)({},t.state,{errors:n,isLoading:!1}))):(t.context.setToken(e.token,e.user._id),window.location.href="/app/")}))}}},{key:"render",value:function(){var e=this,t=this.state,a=t.errors,n=t.isLoading,r=function(e){if(!e)return{points:null,strenth:null};var t=0,a=!1,n=!1,s=!1;e.length>8&&t++;var r=!0,c=!1,o=void 0;try{for(var l,i=e[Symbol.iterator]();!(r=(l=i.next()).done);r=!0){var m=l.value;m>="0"&&m<=9?a||(a=!0,t++):m.toLowerCase(m)>="a"&&m.toLowerCase(m)<="z"?n||(n=!0,t++):" "!==m&&(s||(s=!0,t+=2))}}catch(h){c=!0,o=h}finally{try{r||null==i.return||i.return()}finally{if(c)throw o}}var u="Weak",p="weak";return t>=2&&(u="Medium",p="medium"),t>=4&&(u="Strong",p="strong"),t>=5&&(u="Ultra strong",p="ultra-strong"),{points:t,className:p,strenth:u}}(t.password),c=r.strenth,o=r.className;return s.a.createElement(s.a.Fragment,null,s.a.createElement("h1",{className:"heading"},"Register"),s.a.createElement("form",{onSubmit:function(t){return e.registerUser(t)}},s.a.createElement("div",{className:"form-group"},s.a.createElement("label",{htmlFor:""},"E-mail: "),s.a.createElement(R,{type:"text",name:"email",onChange:function(t){return e.setCredential(t)}}),s.a.createElement("span",{className:"error-input"},a.email)),s.a.createElement("div",{className:"form-group"},s.a.createElement("label",{htmlFor:""},"Full name: "),s.a.createElement(R,{type:"text",name:"name",onChange:function(t){return e.setCredential(t)}}),s.a.createElement("span",{className:"error-input"},a.fullName)),s.a.createElement("div",{className:"form-group"},s.a.createElement("label",{htmlFor:""},"Password: ",c&&s.a.createElement("span",{className:"strenth-text "+o},"(",c,")")," "),s.a.createElement(R,{type:"password",name:"password",onChange:function(t){return e.setCredential(t)}}),s.a.createElement("span",{className:"error-input"},a.password)),s.a.createElement("div",{className:"form-group"},s.a.createElement("label",{htmlFor:""},"Confirm password: "),s.a.createElement(R,{type:"password",name:"confirmPassword",onChange:function(t){return e.setCredential(t)}}),s.a.createElement("span",{className:"error-input"},a.confirmPassword)),s.a.createElement("input",{onClick:function(){return e.setLoading(!0)},type:"submit",className:"btn btn-cta",value:"Create account"}),n&&s.a.createElement(I.a,{size:"sm"})))}}]),t}(n.Component);G.contextType=v.a;a(66),a(67);var Z=function(e){function t(){return Object(l.a)(this,t),Object(m.a)(this,Object(u.a)(t).apply(this,arguments))}return Object(p.a)(t,e),Object(i.a)(t,[{key:"componentDidMount",value:function(){var e=document.querySelector("main");console.log("Hello"),setInterval((function(){window.lastScrollTime&&(new Date).getTime()<window.lastScrollTime+500?e.classList.contains("on-scroll-bar")||e.classList.add("on-scroll-bar"):e.classList.contains("on-scroll-bar")&&e.classList.remove("on-scroll-bar")}),10),e.addEventListener("scroll",(function(e){window.lastScrollTime=(new Date).getTime()}),!1)}},{key:"render",value:function(){return s.a.createElement(h.a,null,s.a.createElement("div",{className:"app-container"},s.a.createElement(C,null),s.a.createElement("main",null,s.a.createElement(d.d,null,s.a.createElement(d.b,{exact:!0,path:"/app/",component:M}),s.a.createElement(d.b,{path:"/app/allTests",component:_}),s.a.createElement(d.b,{path:"/app/testInfo/:testId",component:B}),s.a.createElement(d.b,{path:"/app/testResult/:userId/:resultId",component:z}),s.a.createElement(d.b,{path:"/app/createTest",component:K}),s.a.createElement(d.b,{path:"/app/createTestForm",component:Q}),s.a.createElement(d.b,{path:"/app/passTest/:testId",component:J}),s.a.createElement(d.b,{path:"/app/login",component:V}),s.a.createElement(d.b,{path:"/app/register",component:G})))))}}]),t}(n.Component),$=(a(68),function(e){function t(){var e,a;Object(l.a)(this,t);for(var n=arguments.length,s=new Array(n),r=0;r<n;r++)s[r]=arguments[r];return(a=Object(m.a)(this,(e=Object(u.a)(t)).call.apply(e,[this].concat(s)))).state={user:E.a.get("user"),userId:E.a.get("userId"),token:E.a.get("token"),proxy:""},a.setToken=function(e,t,n){a.setState({token:e,userId:t,user:n}),E.a.set("token",e),E.a.set("userId",t),E.a.set("user",n)},a.logout=function(){a.setState({token:"",userId:""}),E.a.set("token",""),E.a.set("userId","")},a}return Object(p.a)(t,e),Object(i.a)(t,[{key:"componentWillMount",value:function(){var e="";e=window.location.href.startsWith("https")?"https://easytestapp.herokuapp.com":window.location.href.startsWith("http")?"http://easytestapp.herokuapp.com":"easytestapp.herokuapp.com",console.log(e),this.setState(Object(o.a)({},this.state,{proxy:e}))}},{key:"render",value:function(){var e=this.state,t=e.token,a=e.userId,n=e.proxy,r=e.user;return console.log(Object({NODE_ENV:"production",PUBLIC_URL:""})),console.log(window.location.href),s.a.createElement(h.a,{basename:""},s.a.createElement(s.a.Fragment,null,s.a.createElement(v.a.Provider,{value:{token:t,userId:a,user:r,setToken:this.setToken,logout:this.logout,proxy:n}},s.a.createElement(d.d,null,s.a.createElement(d.b,{exact:!0,path:"/",component:j}),s.a.createElement(d.b,{path:"/app",component:Z})))))}}]),t}(n.Component));Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));c.a.render(s.a.createElement($,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()}))}],[[43,1,2]]]);
//# sourceMappingURL=main.d8c89643.chunk.js.map